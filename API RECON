# API RECON — NOTATKA

---

## 1. PASSIVE

### Wyszukiwarka
target api

inurl:"/wp-json/wp/v2/users" site:target.com
intitle:json site:target.com


---

### Google Dorking

**WordPress users API**
inurl:"/wp-json/wp/v2/users"


**Pliki z API keys**
intitle:"index.of" intext:"api.txt"


**Katalogi API**
inurl:"/api/v1" intext:"index of /"


**XenAPI SQLi**
ext:php inurl:"api.php?action="


**Eksponowane klucze API**
intitle:"index of" api_key OR "api key" OR apiKey -pool


---

### GitDorking
filename:swagger.json
extension:.json


---

### Shodan

**Hostname**
hostname:"targetname.com"


**Filtry**
"content-type: application/json"
"content-type: application/xml"
"200 OK"
"wp-json"


---

## 2. ACTIVE

### Nmap
nmap -sC -sV target
nmap -p- 127.0.0.1

nmap -sC -sV [target] -oA nameofoutput

nmap -p- [target] -oA allportscan


---

### Amass — konfiguracja
amass enum -list

sudo curl https://raw.githubusercontent.com/OWASP/Amass/master/examples/config.ini > ~/.config/amass/config.ini


---

### Amass — rekonesans
amass enum -active -d target.com | grep api

amass intel -addr [IP]

amass intel -d [domain] -whois

amass enum -passive -d [domain]

amass enum -active -d [domain]

amass enum -active -brute -w /usr/share/wordlists/API_superlist -d [domain] -dir [outputdir]


---

## SKRÓCONA NOTATKA — NARZĘDZIA

---

### Gobuster — brute katalogów
gobuster dir -u target.com:8000 -w /home/hapihacker/api/wordlists/common_apis_160


---

### Kiterunner — discovery endpointów
kr scan http://127.0.0.1 -w ~/api/wordlists/data/kiterunner/routes-large.kite

kr brute <target> -w ~/api/wordlists/data/automated/wordlist.txt


---

### Kiterunner — replay request
kr kb replay "REQUEST" -w ~/api/wordlists/data/kiterunner/routes-large.kite


---

### Format listy targetów
test.com
test.com:443
http://test.com
http://test.com:8888
http://test.com/api


---

## DevTools — szybki recon API

**Kroki**
F12 → Network → refresh


**Filtrowanie**
API
v1
graphql


**Analiza requestów**
Right click → Edit and Resend


**Export do Postman**
Copy as cURL → Postman → Import → Raw text


---

## ZASADA RECON

Recon = odkrywanie endpointów + tokenów + kluczy + danych


**Cel**
znaleźć entry point do API


TEST:
Which of these headers is the best indicator of a web API?
Content-encoding: gzip
Content-Type: text/javascript
Cross-Origin-Resource-Policy: cross-origin
Content-Type: application/json +

Which tool is best for exploring old versions of API documentation?
GitHub
Kiterunner
Shodan
The Wayback Machine +

Which Amass command will actively scan a target?
$amass intel -d example.com
$amass -h
$amass viz -maltego
$amass enum -active -brute -w /usr/share/wordlists/API_superlist -d example.com -dir [directory name]  +

What attributes are associated with Partner APIs?
Only exposed internally and API is likely unrestricted
Documentation is public and access to the API is likely restricted
Documentation may not be public and access to the API is likely restricted +

Which of the following attributes are associated with Private APIs?
They are intended for use by partners
Usually requires JSON Web Tokens for authorization
Out of all the API types, documentation could be the most difficult to find +

Which of the following tools is the worst for passively detecting APIs?
Nmap +
Google
GitHub
Shodan

Which of the following tools would be best for actively detecting APIs?
Wireshark
GitHub
Shodan
Kiterunner +

How can DevTools help analyze APIs?
Directory brute force
By attacking the API through HTML
The network module can reveal API endpoints +

What information about APIs can be discovered through passive reconnaissance techniques?
API Documentation
Exposed API keys
Usernames
All above +

Which of the following tools cannot help discover endpoints without a specification file?
Kiterunner
Netcat +
Gobuster
Burp Suite
